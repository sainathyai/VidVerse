# Backend Environment Variables
# Copy this file to .env and fill in your actual values

# Application
NODE_ENV=development
PORT=3001
FRONTEND_URL=https://vidverseai.com
BACKEND_URL=https://api.vidverseai.com
ALLOWED_ORIGINS=https://vidverseai.com
LOG_LEVEL=info

# Database (AWS RDS PostgreSQL - us-west-2)
# Format: postgresql://USERNAME:PASSWORD@ENDPOINT:PORT/DATABASE?sslmode=require
# Endpoint: vidverse.czgui6kw4z1d.us-west-2.rds.amazonaws.com
# Port: 5432
DATABASE_URL=postgresql://YOUR_DB_USERNAME:YOUR_DB_PASSWORD@vidverse.czgui6kw4z1d.us-west-2.rds.amazonaws.com:5432/vidverse?sslmode=require
DATABASE_SSL=true
DATABASE_SSL_REJECT_UNAUTHORIZED=true
# Download RDS CA certificate from: https://truststore.pki.rds.amazonaws.com/global/global-bundle.pem
# Save to: backend/certs/rds-ca-rsa2048-g1.pem
DATABASE_SSL_CA_PATH=./certs/rds-ca-rsa2048-g1.pem

# Redis (AWS ElastiCache or local)
# Set ENABLE_REDIS=true to enable Redis/job queues
# Set to false to disable Redis (video generation will be unavailable)
ENABLE_REDIS=false

# Redis URL format:
# - Local: redis://localhost:6379
# - AWS ElastiCache: redis://your-cluster.cache.amazonaws.com:6379
# - With password: redis://:password@your-cluster.cache.amazonaws.com:6379
# - AWS ElastiCache with AUTH token: redis://:your-auth-token@your-cluster.cache.amazonaws.com:6379
REDIS_URL=redis://localhost:6379

# Object Storage (S3/R2) - us-west-2
S3_BUCKET_NAME=vidverse-assets
S3_REGION=us-west-2
S3_ACCESS_KEY_ID=your-s3-access-key
S3_SECRET_ACCESS_KEY=your-s3-secret-key
S3_ENDPOINT=https://s3.us-west-2.amazonaws.com

# Authentication - AWS Cognito (us-west-2)
COGNITO_USER_POOL_ID=us-west-2_xxxxxxxxx
COGNITO_CLIENT_ID=xxxxxxxxxxxxxxxxxxxxxxxxxx
COGNITO_CLIENT_SECRET=your-cognito-client-secret-if-applicable
COGNITO_DOMAIN=your-pool-domain.auth.us-west-2.amazoncognito.com
AWS_REGION=us-west-2

# Replicate API
REPLICATE_API_TOKEN=r8_your-replicate-token

# OpenAI (for LangGraph agentic mode)
OPENAI_API_KEY=sk-your-openai-key

# Anthropic (alternative LLM)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key

# OpenRouter (for AI chat assistant)
OPENROUTER_API_KEY=sk-or-v1-your-openrouter-api-key
OPENROUTER_MODEL=openai/gpt-4o-mini

# Sentry
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development

# Monitoring
DATADOG_API_KEY=your-datadog-api-key
DATADOG_APP_KEY=your-datadog-app-key

# Rate Limiting
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# Cost Management
MAX_COST_PER_JOB=50.00
BUDGET_ALERT_THRESHOLD=0.8

# FFmpeg (required for video processing and frame extraction)
# On Windows: Download from https://ffmpeg.org/download.html and set to full path
# Example Windows: FFMPEG_PATH=C:\ffmpeg\bin\ffmpeg.exe
# Example Linux/Mac: FFMPEG_PATH=/usr/bin/ffmpeg
FFMPEG_PATH=ffmpeg
# FFprobe (usually in same directory as ffmpeg)
# On Windows: FFPROBE_PATH=C:\ffmpeg\bin\ffprobe.exe
# On Linux/Mac: FFPROBE_PATH=/usr/bin/ffprobe (or leave empty to auto-detect)
FFPROBE_PATH=

# S3 URL Configuration
# Set S3_USE_PRESIGNED_URLS=true to use presigned URLs (recommended for private buckets)
# Set S3_USE_PRESIGNED_URLS=false to use public URLs (requires bucket to be public)
# CURRENT SETTING: Public bucket (set to false for direct URL access)
S3_USE_PRESIGNED_URLS=false

# Feature Flags
ENABLE_AGENTIC_MODE=true
ENABLE_BRAND_KIT=true
ENABLE_COST_TRACKING=true

